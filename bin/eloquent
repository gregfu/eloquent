#! /usr/bin/env ruby
# --------------------------------------------------------------------------------
# Eloquent main binary
# --------------------------------------------------------------------------------
$:.unshift File.expand_path("../../lib", __FILE__)

require 'optparse'
require 'eloquent'
require 'pp'


options = {}

bin_name = File.basename(File.expand_path(".",__FILE__))
OptionParser.new do |opts|
  opts.banner = <<-EOD.gsub(/^    /, '')
    Usage: 
    --------------------------------------------------------------------------------
      #{bin_name} new [options]
      #{bin_name} page [options]
      #{bin_name} post [options]
      #{bin_name} publish
      
  EOD

  opts.on("-v", "--verbose", "Run in verbose mode.") do
    options[:verbose] = true
  end

  opts.on_tail("-h", "--help", "Show this message") do
    puts opts
    exit
  end
end.parse!

Eloquent.command(options,ARGV)
